-- sql/seed_initial.sql
-- Первичное наполнение: symbols и crisis_keywords
-- Безопасно перезапускается: ON CONFLICT обновляет существующие записи.

BEGIN;

-- ===== SYMBOLS =====
-- key (unique), synonyms::jsonb (массив токенов), description

INSERT INTO symbols (key, synonyms, description) VALUES
('зуб', '["зуб","зубы","зубной","десна","клык","коренной","резец","шатается","выпал","пломба"]'::jsonb, 'Страх утраты/старения, уязвимость, самопринятие.'),
('падение', '["падать","упал","сорвался","падение","летел","рухнул"]'::jsonb, 'Потеря контроля/опоры, тревога перемен.'),
('погоня', '["погоня","гонятся","преследуют","убегаю","бегу","догоняют"]'::jsonb, 'Избегание задач/эмоций, внутренние страхи.'),
('вода', '["вода","море","океан","река","волна","шторм","ливень"]'::jsonb, 'Эмоциональный фон, подсознание, очищение.'),
('гроза', '["гроза","гром","молния","буря","шторм","непогода"]'::jsonb, 'Накопленное напряжение и разрядка.'),
('летать', '["лечу","летаю","полёт","взлетаю","парю"]'::jsonb, 'Свобода, выход за рамки, творческий импульс.'),
('падать_вниз', '["проваливаюсь","бездна","чернота","яма","обрыв"]'::jsonb, 'Страх неизвестности, нехватка опоры.'),
('экзамен', '["экзамен","тест","зачёт","контрольная","билет"]'::jsonb, 'Самооценка, проверка границ и компетенций.'),
('опоздание', '["опоздал","опаздываю","проспал","не","успел"]'::jsonb, 'Перегруз, чувство вины, управление временем.'),
('обнажённость', '["голый","голая","без","одежды","обнажён"]'::jsonb, 'Уязвимость, страх оценки.'),
('змея', '["змея","гадюка","уж","кобра","укус"]'::jsonb, 'Инстинкты, теневая часть, осторожность.'),
('собака', '["собака","пёс","щенок","лаять","укус"]'::jsonb, 'Лояльность, защита, границы; иногда страх.'),
('кот', '["кот","кошка","котёнок","мурлычет","царапает"]'::jsonb, 'Независимость, мягкость, интуиция.'),
('дом', '["дом","квартира","комната","крыша","стены"]'::jsonb, '«Я»-пространство, безопасность, семья.'),
('окно', '["окно","стекло","рама","витраж"]'::jsonb, 'Взгляд наружу, перспективы/возможности.'),
('дверь', '["дверь","вход","выход","замок","ключ"]'::jsonb, 'Порог, выбор, границы.'),
('лифт', '["лифт","подъёмник","застрял","этаж"]'::jsonb, 'Вертикальные переходы, карьерные перемены.'),
('поезд', '["поезд","электричка","вагон","рельсы"]'::jsonb, 'Путь, ритм изменений, «не пропустить своё».'),
('машина', '["машина","автомобиль","руль","тормоз","авария"]'::jsonb, 'Контроль, направление, ответственность.'),
('самолёт', '["самолёт","рейс","турбулентность","взлёт","посадка"]'::jsonb, 'Высота целей, дальние планы, страх потерь.'),
('школа', '["школа","класс","урок","учитель","одноклассник"]'::jsonb, 'Старая сцена обучения и самооценки.'),
('работа', '["работа","офис","начальник","коллеги","отчёт"]'::jsonb, 'Роль/карьера, давление задач.'),
('деньги', '["деньги","кошелёк","зарплата","купюры","монеты"]'::jsonb, 'Ресурсы, ценность, безопасность.'),
('телефон', '["телефон","звонок","связь","сеть","батарея"]'::jsonb, 'Контакт, связь с важным, перегруз коммуникаций.'),
('заблудился', '["заблудился","не","найти","потерялся","лабиринт"]'::jsonb, 'Потеря ориентира, поиск опоры.'),
('еда', '["еда","ем","голоден","наелся","стол"]'::jsonb, 'Питание/потребности, забота о себе.'),
('беременность', '["беременна","беременность","живот","плод"]'::jsonb, 'Новый проект/идея, созревание.'),
('ребёнок', '["ребёнок","малыш","младенец","сын","дочь"]'::jsonb, 'Уязвимая часть, ответственность.'),
('смерть', '["смерть","умер","похороны","кладбище"]'::jsonb, 'Завершение этапа, трансформация.'),
('кровь', '["кровь","порез","рана","кровавый"]'::jsonb, 'Энергия/жизненные силы, ранимость.'),
('задыхаться', '["задыхаюсь","нет","воздуха","тонуть"]'::jsonb, 'Перегруз, паника, потребность в паузе.'),
('стоматолог', '["стоматолог","пломба","лечить","зубы","сверло"]'::jsonb, 'Принятие «больного места», ремонт границ.'),
('волосы', '["волосы","лысею","выпадают","причёска"]'::jsonb, 'Образ/идентичность, страх старения.'),
('зеркало', '["зеркало","отражение","витрина"]'::jsonb, 'Самовосприятие, честность с собой.'),
('рептилия', '["рептилия","ящерица","хвост"]'::jsonb, 'Инстинкты, осторожность.'),
('огонь', '["огонь","пожар","пламя","обжёгся"]'::jsonb, 'Сила воли/страсть, риск выгорания.'),
('лестница', '["лестница","ступеньки","подниматься","спускаться"]'::jsonb, 'Шаги прогресса/регресса, усилие.'),
('обнажён_на_людях', '["стыдно","увидели","обнажён","людях"]'::jsonb, 'Страх оценки, уязвимость.'),
('чужой_дом', '["чужая","квартира","незнакомая","комната"]'::jsonb, 'Новые контексты/непривычные роли.'),
('пустыня', '["пустыня","песок","жара","оазис"]'::jsonb, 'Истощение/поиск ресурса.'),
('лес', '["лес","чаща","тропа","заросли"]'::jsonb, 'Погружение в подсознание, поиск пути.'),
('высота', '["высота","край","балкон","крыша","сорвусь"]'::jsonb, 'Риск, притяжение/страх, проверка границ.')
ON CONFLICT (key) DO UPDATE
SET synonyms = EXCLUDED.synonyms,
    description = EXCLUDED.description;

-- ===== CRISIS KEYWORDS =====
-- phrase (unique), severity (1..3), help_url

INSERT INTO crisis_keywords (phrase, severity, help_url) VALUES
('не хочу жить', 3, 'https://suicide-stop.ru/'),
('покончить с собой', 3, 'https://suicide-stop.ru/'),
('самоубийство', 3, 'https://suicide-stop.ru/'),
('хочу умереть', 3, 'https://suicide-stop.ru/'),
('жить надоело', 3, 'https://suicide-stop.ru/'),
('мысли о смерти', 3, 'https://suicide-stop.ru/'),
('вред себе', 3, 'https://suicide-stop.ru/'),
('порезать себе вены', 3, 'https://suicide-stop.ru/'),
('лучше бы не рождался', 3, 'https://suicide-stop.ru/'),
('не вижу смысла', 3, 'https://suicide-stop.ru/'),
('хочу исчезнуть', 3, 'https://suicide-stop.ru/'),
('погибнуть', 3, 'https://suicide-stop.ru/'),
('мне всё равно', 2, 'https://telefon-doveria.ru/'),
('никому не нужен', 2, 'https://telefon-doveria.ru/'),
('меня никто не любит', 2, 'https://telefon-doveria.ru/'),
('бессонница', 2, 'https://telefon-doveria.ru/'),
('паническая атака', 2, 'https://telefon-doveria.ru/'),
('тревога зашкаливает', 2, 'https://telefon-doveria.ru/'),
('не справляюсь', 2, 'https://telefon-doveria.ru/'),
('очень одиноко', 2, 'https://telefon-doveria.ru/'),
('мне страшно жить', 2, 'https://telefon-doveria.ru/'),
('сильная боль внутри', 2, 'https://telefon-doveria.ru/'),
('ненавижу себя', 2, 'https://telefon-doveria.ru/'),
('стыдно жить', 2, 'https://telefon-doveria.ru/')
ON CONFLICT (phrase) DO UPDATE
SET severity = EXCLUDED.severity,
    help_url = EXCLUDED.help_url;

COMMIT;
